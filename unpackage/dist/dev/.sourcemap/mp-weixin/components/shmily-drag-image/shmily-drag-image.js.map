{"version":3,"sources":["webpack:///D:/lejoy/lejoyMiniProgram/components/shmily-drag-image/shmily-drag-image.vue?d508","webpack:///D:/lejoy/lejoyMiniProgram/components/shmily-drag-image/shmily-drag-image.vue?398a","webpack:///D:/lejoy/lejoyMiniProgram/components/shmily-drag-image/shmily-drag-image.vue?93a2","webpack:///D:/lejoy/lejoyMiniProgram/components/shmily-drag-image/shmily-drag-image.vue?c10b","uni-app:///components/shmily-drag-image/shmily-drag-image.vue","webpack:///D:/lejoy/lejoyMiniProgram/components/shmily-drag-image/shmily-drag-image.vue?3431","webpack:///D:/lejoy/lejoyMiniProgram/components/shmily-drag-image/shmily-drag-image.vue?7a11"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0I;AAC1I;AACqE;AACL;AACsC;;;AAGtG;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,uFAAM;AACR,EAAE,wGAAM;AACR,EAAE,iHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8mB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiDloB;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,cAFA;AAGA;AACA,YADA;AAEA,YAFA,EAHA;;AAOA,kBAPA;AAQA,kBARA;AASA,oBATA;AAUA,iBAVA;AAWA,wBAXA;AAYA,qBAZA;;AAcA,GAhBA;AAiBA;AACA;AACA;AACA,iBADA;AAEA;AACA;AACA,OAJA,EAFA;;AAQA;AACA;AACA,kBADA;AAEA,gBAFA,EATA;;AAaA;AACA;AACA,kBADA;AAEA,kBAFA,EAdA;;AAkBA;AACA;AACA,kBADA;AAEA,gBAFA,EAnBA;;AAuBA;AACA;AACA,kBADA;AAEA,iBAFA,EAxBA;;AA4BA;AACA;AACA,kBADA;AAEA,kBAFA,EA7BA;;AAiCA;AACA;AACA,kBADA;AAEA,kBAFA,EAlCA;;AAsCA;AACA;AACA,mBADA;AAEA,oBAFA,EAvCA,EAjBA;;;AA6DA;AACA,cADA,wBACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA;AAQA,cARA,wBAQA;AACA;AACA,KAVA,EA7DA;;AAyEA,SAzEA,qBAyEA;AACA;AACA;AACA,GA5EA;AA6EA,SA7EA,qBA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,gBANA,aAMA;AACA;AACA,SARA;AASA,KATA;AAUA;AACA,GA1FA;AA2FA;AACA,YADA,oBACA,CADA,EACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA,wBAFA,gDAEA,GAFA;AAGA;AACA;AACA,eAFA,MAEA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAHA;AAIA,iBALA,EAKA,CALA;AAMA,eAjBA,EAEA;AAgBA,aAlBA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA,KAtCA;AAuCA,UAvCA,kBAuCA,GAvCA,EAuCA,CAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA,OALA,EAKA,CALA;AAMA,KApDA;AAqDA,cArDA,sBAqDA,IArDA,EAqDA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,EAKA,GALA;AAMA,KAlEA;AAmEA,YAnEA,oBAmEA,IAnEA,EAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA,OAPA,EAOA,CAPA;AAQA,KAnFA;AAoFA,gBApFA,wBAoFA,IApFA,EAoFA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,sBAFA;AAGA;AACA;AACA;AACA;AACA,aAFA,EAEA,GAFA;AAGA,WARA;;AAUA,OAdA,MAcA;AACA;AACA;AACA;AACA,KAvGA;AAwGA,cAxGA,wBAwGA;;;;;;;AAOA,KA/GA;AAgHA,cAhHA,wBAgHA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,KA3IA;AA4IA,aA5IA,uBA4IA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,4BADA;AAEA,yCAFA;AAGA;AACA;AACA;AACA;AACA;AACA,WARA;;AAUA;AACA,KA5JA;AA6JA,YA7JA,oBA6JA,KA7JA,EA6JA;AACA;AACA,KA/JA;AAgKA,YAhKA,oBAgKA,IAhKA,EAgKA,KAhKA,EAgKA;AACA,sCADA;AAEA,oBAFA,kDAEA,GAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA;AAIA,WAbA,EAEA;AAYA,SAdA;AAeA;AACA;AACA;AACA,KAlLA;AAmLA,cAnLA,sBAmLA,IAnLA,EAmLA,KAnLA,EAmLA;;AAEA;;AAEA,KAvLA;AAwLA,YAxLA,sBAwLA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA,KAjMA;AAkMA,iBAlMA,yBAkMA,IAlMA,EAkMA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,YAFA;AAGA,YAHA;AAIA,eAJA;AAKA,eALA;AAMA,kBANA;AAOA,kBAPA;AAQA,gBARA;AASA,iBATA;AAUA,kBAVA;AAWA,oCAXA;AAYA,uBAZA;AAaA,sBAbA;AAcA,iBAdA;AAeA,sBAfA;;AAiBA;AACA;AACA;AACA;AACA,KA5NA;AA6NA,WA7NA,qBA6NA,EA7NA;AA8NA,UA9NA,kBA8NA,CA9NA,EA8NA;AACA;AACA,KAhOA;AAiOA,QAjOA,kBAiOA;AACA;AACA;AACA;AACA;AACA,KAtOA,EA3FA,E;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAA2oC,CAAgB,6lCAAG,EAAC,C;;;;;;;;;;;ACA/pC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/shmily-drag-image/shmily-drag-image.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./shmily-drag-image.vue?vue&type=template&id=345cb730&scoped=true&\"\nvar renderjs\nimport script from \"./shmily-drag-image.vue?vue&type=script&lang=js&\"\nexport * from \"./shmily-drag-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shmily-drag-image.vue?vue&type=style&index=0&id=345cb730&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"345cb730\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/shmily-drag-image/shmily-drag-image.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shmily-drag-image.vue?vue&type=template&id=345cb730&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shmily-drag-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shmily-drag-image.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"con\">\n    <movable-area class=\"area\" :style=\"{ height: areaHeight }\" @mouseenter=\"mouseenter\" @mouseleave=\"mouseleave\">\n      <block v-for=\"(item, index) in imageList\" :key=\"item.id\">\n        <movable-view\n          class=\"view\"\n          :x=\"item.x\"\n          :y=\"item.y\"\n          direction=\"all\"\n          :damping=\"40\"\n          :disabled=\"item.disable\"\n          @change=\"onChange($event, item)\"\n          @touchstart=\"touchstart(item)\"\n          @mousedown=\"touchstart(item)\"\n          @touchend=\"touchend(item)\"\n          @mouseup=\"touchend(item)\"\n          :style=\"{ width: viewWidth + 'px', height: viewWidth + 'px', 'z-index': item.zIndex, opacity: item.opacity }\"\n        >\n          <view class=\"area-con\" :style=\"{ width: childWidth, height: childWidth, transform: 'scale(' + item.scale + ')' }\">\n            <image class=\"pre-image\" :src=\"item.src\" mode=\"aspectFill\"></image>\n            <view class=\"del-con\" @click=\"delImage(item, index)\" @touchstart.stop=\"delImageMp(item, index)\" @touchend.stop=\"nothing()\" @mousedown.stop=\"nothing()\" @mouseup.stop=\"nothing()\">\n              <view class=\"del-wrap\">\n                <image\n                  class=\"del-image\"\n                  src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMDowNzoyNSAyMTo1NDoyOU4TkJAAAADcSURBVFhH7ZfRCoMwDEXLvkjwwVf/bH/emmAyN6glTW9WBjsgwm28OeCLpj81Sil7zvlJ90UiONS/yY5VogsO6XrBg3IEQ5a/s8vRSWUAKmLqp2w5jz5BiNQEGMo3GbloDLtFXJ1IkaEuhAiiY6gEIqB4yqACSk9piIBiKQ8VUFpLviKg3C2rESKgWERCBZSWiEfgIfffYvrrsAgoISJ3Apy3zuTxcSxLQkV6ykNEPKVQkZEyiAiiZKgDIaC4upACSlcn5fM/+WuDCAHF1E/Z/N9AhkMZnPNDPI+UDjPIXgAQIGjNAAAAAElFTkSuQmCC\"\n                ></image>\n              </view>\n            </view>\n          </view>\n        </movable-view>\n      </block>\n      <view\n        class=\"add\"\n        v-if=\"imageList.length < number\"\n        :style=\"{ top: add.y, left: add.x, width: viewWidth + 'px', height: viewWidth + 'px' }\"\n        @click=\"addImages\"\n      >\n        <view class=\"add-wrap\" :style=\"{ width: childWidth, height: childWidth }\">\n          <image\n            style=\"width: 54rpx;height: 54rpx;\"\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAABIUlEQVRoQ+2a2w2DMAxFeQzWrsMUbadAsEw3S1CqVgppKwLX8BEOP4iHTXx8uUgWdVXoVhdaV0VhSmf7vr/H8V3XzY6V3P9iD+nYOI5P7/01LMI596AwoZV0TIBXIUWFXhKLFBWYSFGhhxQN6SFFQ5i4ogITKSr0cEVDekjRECauqMBEigq9U7piOk2yAti27SUe5ljlTfPEQ6KZecTvwl4P3ytvOv06R2HDMNzes7+6aRrvnHvtf50L13Lp50rx88zcvNlS3JpwKQ67XyK04nq2nFbk/LqVjin0TvmBNgQ2S4UUDcliHgpMpKjQwxUN6SFFQ5i4ogITKSr0cEVDekjRECauqMAsVoph+hVPtYr5+03p9tbYQ96xrYtT4ootbAJGVxxVTapVswAAAABJRU5ErkJggg==\"\n          ></image>\n        </view>\n      </view>\n    </movable-area>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      imageList: [],\r\n      width: 0,\n      add: {\n        x: 0,\n        y: 0\n      },\n      colsValue: 0,\n      viewWidth: 0,\n      tempItem: null,\n      timer: null,\n      changeStatus: true,\r\n      preStatus: true,\n    }\n  },\n  props: {\n    // 返回排序后图片\n    list: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    // 选择图片数量限制\n    number: {\n      type: Number,\n      default: 6\n    },\n    // 图片父容器宽度（实际显示的图片宽度为 imageWidth / 1.1 ），单位 rpx\n    imageWidth: {\n      type: Number,\n      default: 230\n    },\n    // 图片列数（cols > 0 则 imageWidth 无效）\n    cols: {\n      type: Number,\n      default: 0\n    },\n    // 图片周围空白填充，单位 rpx\n    padding: {\n      type: Number,\n      default: 10\n    },\n    // 拖动图片时放大倍数 [0, ∞)\n    scale: {\n      type: Number,\n      default: 1.1\n    },\n    // 拖动图片时不透明度\n    opacity: {\n      type: Number,\n      default: 0.7\n    },\n    // 自定义添加（需配合 @aaddImage 事件使用）\n    custom: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    areaHeight() {\n      if (this.imageList.length < this.number) {\n        return Math.ceil((this.imageList.length + 1) / this.colsValue) * this.viewWidth + 'px'\n      } else {\n        return Math.ceil(this.imageList.length / this.colsValue) * this.viewWidth + 'px'\n      }\n    },\n    childWidth() {\n      return this.viewWidth - this.rpx2px(this.padding) * 2 + 'px'\n    },\n  },\r\n  created() {\r\n    this.width = uni.getSystemInfoSync().windowWidth\r\n    this.viewWidth = this.rpx2px(this.imageWidth)\r\n  },\r\n  mounted() {\n    const query = uni.createSelectorQuery().in(this)\n    query.select('.area').boundingClientRect(data => {\n      this.colsValue = Math.floor(data.width / this.viewWidth)\n      if(this.cols > 0){\r\n        this.colsValue = this.cols\n        this.viewWidth = data.width / this.cols\n      }\n      for (let item of this.list) {\n        this.addProperties(item)\n      }\n    })\n    query.exec()\n  },\n  methods: {\n    onChange(e, item) {\n      if(!item) return\n      item.oldX = e.detail.x\n      item.oldY = e.detail.y\r\n      if (e.detail.source === 'touch') {\n        if(item.moveEnd){\n          item.offset = Math.sqrt(Math.pow(item.oldX - item.absX * this.viewWidth, 2) + Math.pow(item.oldY - item.absY * this.viewWidth, 2))\n        }\n        let x = Math.floor((e.detail.x + this.viewWidth / 2) / this.viewWidth)\n        if(x >= this.colsValue) return\n        let y = Math.floor((e.detail.y + this.viewWidth / 2) / this.viewWidth)\n        let index = this.colsValue * y + x\n        if (item.index != index && index < this.imageList.length) {\n          this.changeStatus = false\n          for (let obj of this.imageList) {\n            if (item.index > index && obj.index >= index && obj.index < item.index) {\n              this.change(obj, 1)\n            } else if (item.index < index && obj.index <= index && obj.index > item.index) {\n              this.change(obj, -1)\n            } else if(obj.id != item.id) {\r\n              obj.offset = 0\r\n              obj.x = obj.oldX\r\n              obj.y = obj.oldY\r\n              setTimeout(() => {\r\n                this.$nextTick(() => {\r\n                  obj.x = obj.absX * this.viewWidth\r\n                  obj.y = obj.absY * this.viewWidth\r\n                })\r\n              }, 0)\r\n            }\n          }\n          item.index = index\n          item.absX = x\n          item.absY = y\n          this.sortList()\n        }\n      }\n    },\r\n    change(obj, i){\r\n      obj.index += i\r\n      obj.offset = 0\r\n      obj.x = obj.oldX\r\n      obj.y = obj.oldY\r\n      obj.absX = obj.index % this.colsValue\r\n      obj.absY = Math.floor(obj.index / this.colsValue)\r\n      setTimeout(() => {\r\n        this.$nextTick(() => {\r\n          obj.x = obj.absX * this.viewWidth\r\n          obj.y = obj.absY * this.viewWidth\r\n        })\r\n      }, 0)\r\n    },\n    touchstart(item) {\r\n      this.imageList.forEach(v => {\n        v.zIndex = v.index + 9\n      })\n      item.zIndex = 99\n      item.moveEnd = true\n      this.tempItem = item\r\n      this.timer = setTimeout(() => {\n        item.scale = this.scale\n        item.opacity = this.opacity\n        clearTimeout(this.timer)\n        this.timer = null\r\n      }, 200)\r\n    },\n    touchend(item) {\r\n      this.previewImage(item)\n      item.scale = 1\n      item.opacity = 1\n      item.x = item.oldX\n      item.y = item.oldY\n      item.offset = 0\n      item.moveEnd = false\n      setTimeout(() => {\r\n        this.$nextTick(() => {\r\n          item.x = item.absX * this.viewWidth\r\n          item.y = item.absY * this.viewWidth\r\n          this.tempItem = null\r\n          this.changeStatus = true\r\n        })\r\n      }, 0)\n    },\n    previewImage(item){\r\n      if(this.timer && this.preStatus && this.changeStatus && item.offset < 28.28){\n        clearTimeout(this.timer)\n        this.timer = null\n        let src = this.list.findIndex(v => v === item.src)\n        uni.previewImage({\n          urls: this.list,\n          current: src,\n          success: () => {\n            this.preStatus = false\r\n            setTimeout(() => {\r\n              this.preStatus = true\r\n            }, 600)\n          }\n        })\n      } else if (this.timer){\n        clearTimeout(this.timer)\n        this.timer = null\n      }\n    },\n    mouseenter(){\n      //#ifdef H5\n      this.imageList.forEach(v => {\n        v.disable = false\n      })\n      //#endif\n      \n    },\n    mouseleave(){\n      //#ifdef H5\n      if(this.tempItem){\n        this.imageList.forEach(v => {\n          v.disable = true\n          v.zIndex = v.index + 9\n          v.offset = 0\n          v.moveEnd = false\n          if(v.id == this.tempItem.id){\n            if (this.timer){\n              clearTimeout(this.timer)\n              this.timer = null\n            }\n            v.scale = 1\n            v.opacity = 1\n            v.x = v.oldX\n            v.y = v.oldY\n            this.$nextTick(() => {\n              v.x = v.absX * this.viewWidth\n              v.y = v.absY * this.viewWidth\n              this.tempItem = null\n            })\n          }\n        })\n        this.changeStatus = true\n      }\n      //#endif\n    },\n    addImages() {\n      if(this.custom){\n        this.$emit('addImage')\n      } else {\n        let checkNumber = this.number - this.imageList.length\n        uni.chooseImage({\n          count: checkNumber,\n          sourceType: ['album', 'camera'],\n          success: res => {\n            let count = checkNumber <= res.tempFilePaths.length ? checkNumber : res.tempFilePaths.length\n            for (let i = 0; i < count; i++) {\n              this.addProperties(res.tempFilePaths[i])\n            }\n          }\n        })\n      }\n    },\n    addImage(image){\n      this.addProperties(image)\n    },\n    delImage(item, index){\n      this.imageList.splice(index, 1)\n      for (let obj of this.imageList) {\n        if (obj.index > item.index) {\n          obj.index -= 1\n          obj.x = obj.oldX\n          obj.y = obj.oldY\n          obj.absX = obj.index % this.colsValue\n          obj.absY = Math.floor(obj.index / this.colsValue)\n          this.$nextTick(() => {\n            obj.x = obj.absX * this.viewWidth\n            obj.y = obj.absY * this.viewWidth\n          })\n        }\n      }\n      this.add.x = (this.imageList.length % this.colsValue) * this.viewWidth + 'px'\n      this.add.y = Math.floor(this.imageList.length / this.colsValue) * this.viewWidth + 'px'\n      this.sortList()\n    },\r\n    delImageMp(item, index){\r\n      //#ifdef MP\r\n      this.delImage(item, index)\r\n      //#endif\r\n    },\n    sortList() {\n      let list = this.imageList.slice()\n      list.sort((a, b) => {\n        return a.index - b.index\n      })\n      for (let i = 0; i < list.length; i++) {\n        list[i] = list[i].src\n      }\n      this.$emit('update:list', list)\n    },\n    addProperties(item){\n      let absX = this.imageList.length % this.colsValue\n      let absY = Math.floor(this.imageList.length / this.colsValue)\n      let x = absX * this.viewWidth\n      let y = absY * this.viewWidth\n      this.imageList.push({\n        src: item.content,\n        x,\n        y,\n        oldX: x,\n        oldY: y,\n        absX,\n        absY,\n        scale: 1,\n        zIndex: 9,\n        opacity: 1,\n        index: this.imageList.length,\n        id: this.guid(),\n        disable: false,\n        offset: 0,\n        moveEnd: false\n      })\r\n\t  console.log(this.imageList)\n      this.add.x = (this.imageList.length % this.colsValue) * this.viewWidth + 'px'\n      this.add.y = Math.floor(this.imageList.length / this.colsValue) * this.viewWidth + 'px'\n      this.sortList()\n    },\n    nothing(){},\r\n    rpx2px(v){\r\n      return this.width * v / 750\r\n    },\n    guid() {\n    \tfunction S4() {\n    \t\treturn (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n    \t}\n    \treturn (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.con {\n  padding: 30rpx;\n  .area {\n    width: 100%;\n    .view {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      .area-con {\n        position: relative;\n        .pre-image {\n          width: 100%;\n          height: 100%;\n        }\n        .del-con {\n          position: absolute;\n          top: 0rpx;\n          right: 0rpx;\n          padding: 0 0 20rpx 20rpx;\n          .del-wrap {\n            width: 36rpx;\n            height: 36rpx;\n            background-color: rgba(0, 0, 0, 0.4);\n            border-radius: 0 0 0 10rpx;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            .del-image {\n              width: 20rpx;\n              height: 20rpx;\n            }\n          }\n        }\n      }\n    }\n    .add {\n      position: absolute;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      .add-wrap{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: #eeeeee;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shmily-drag-image.vue?vue&type=style&index=0&id=345cb730&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shmily-drag-image.vue?vue&type=style&index=0&id=345cb730&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597821477861\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}